{"is_source_file": true, "format": "TypeScript", "description": "This file defines an Angular service named AuthService that manages user authentication, token storage, user profile retrieval, and logout functionality. It interacts with API endpoints and uses signals and computed properties for state management.", "external_files": ["../api/api.service", "../models/models", "../api/endpoints"], "external_methods": ["inject", "pipe", "subscribe", "setItem", "removeItem", "getItem"], "published": ["AuthService"], "classes": [{"name": "AuthService", "description": "Angular service responsible for handling user authentication, token management, and user profile operations."}], "methods": [{"name": "login", "description": "Performs login by sending credentials to API, storing tokens, and fetching user info."}, {"name": "me", "description": "Fetches the current user profile from the API and updates internal state."}, {"name": "logout", "description": "Clears tokens and user state, optionally navigates to login page."}, {"name": "getAccessToken", "description": "Retrieves the current access token from internal state."}, {"name": "setTokens", "description": "Stores authentication tokens in local storage and updates internal signal states."}, {"name": "getToken", "description": "Retrieves the access token from local storage."}], "calls": ["this.api.post", "this.api.get", "this.router.navigate", "ls.setItem", "ls.removeItem", "ls.getItem", "this.userSig.set", "this.tokenSig.set"], "search-terms": ["AuthService", "localStorage management", "Angular signals", "token handling", "user profile"], "state": 2, "file_id": 26, "knowledge_revision": 101, "git_revision": "f563e7bbe6b65ac7be7d7a2c501596faf3835eaa", "revision_history": [{"65": ""}, {"101": "f563e7bbe6b65ac7be7d7a2c501596faf3835eaa"}], "ctags": [{"_type": "tag", "name": "ACCESS_TOKEN_KEY", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-project-monitoring-system-40481-40495/project_monitoring_frontend/src/app/core/auth/auth.service.ts", "pattern": "/^const ACCESS_TOKEN_KEY = 'pm_access_token';$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "AuthService", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-project-monitoring-system-40481-40495/project_monitoring_frontend/src/app/core/auth/auth.service.ts", "pattern": "/^export class AuthService {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "REFRESH_TOKEN_KEY", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-project-monitoring-system-40481-40495/project_monitoring_frontend/src/app/core/auth/auth.service.ts", "pattern": "/^const REFRESH_TOKEN_KEY = 'pm_refresh_token';$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-project-monitoring-system-40481-40495/project_monitoring_frontend/src/app/core/auth/auth.service.ts", "pattern": "/^  private api = inject(ApiService);$/", "language": "TypeScript", "kind": "property", "scope": "AuthService", "scopeKind": "class"}, {"_type": "tag", "name": "g", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-project-monitoring-system-40481-40495/project_monitoring_frontend/src/app/core/auth/auth.service.ts", "pattern": "/^      const g: any = typeof globalThis !== 'undefined' ? (globalThis as any) : undefined;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "g", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-project-monitoring-system-40481-40495/project_monitoring_frontend/src/app/core/auth/auth.service.ts", "pattern": "/^      const ls = g && g.window && g.window.localStorage ? g.window.localStorage : undefined;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "ls", "path": "/home/kavia/workspace/code-generation/uttar-pradesh-tourism-project-monitoring-system-40481-40495/project_monitoring_frontend/src/app/core/auth/auth.service.ts", "pattern": "/^      const ls = g && g.window && g.window.localStorage ? g.window.localStorage : undefined;$/", "language": "TypeScript", "kind": "constant"}], "hash": "e1113e56b3f0c81c251b9bd1feef3d6b", "format-version": 4, "code-base-name": "project_monitoring_frontend", "filename": "project_monitoring_frontend/src/app/core/auth/auth.service.ts", "fields": [{"name": "private api = inject(ApiService);", "scope": "AuthService", "scopeKind": "class", "description": "unavailable"}]}